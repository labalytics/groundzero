<div class="row">
  <div class="col-xs-12">
    <div class="box">
      <div class="box-header">
        <h3 class="box-title">List of all labs</h3>
        <div class="box-tools">
          <div>
            <p data-placement="top" data-toggle="tooltip" title="New Lab" class="pull-right">
              <button class="btn btn-success btn-xs" data-title="Newlab" data-toggle="modal" data-target="#newlab"><span
                class="glyphicon glyphicons-plus-sign">Add Lab</span>
              </button>
            </p>
          </div>
          <div class="input-group input-group-sm" style="width: 150px;">
            <input [(ngModel)]="searchTerm" (ngModelChange)="search()" class="form-control pull-right"
                   placeholder="Search"/>
            <div class="input-group-btn">
              <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
            </div>
          </div>
        </div>
      </div>
      <div class="row pull-right">

      </div>
      <div class="box-body table-responsive no-padding">
        <table class="table table-hover">
          <thead>
          <tr>
            <th>Name</th>
            <th>Manager</th>
            <th>Email</th>
            <th>Mobile Number</th>
            <th></th>
            <th></th>
          </tr>
          </thead>
          <tbody *ngFor="let lab of labs">
          <tr>
            <td>{{lab.labId.labName}}</td>
            <td>{{lab.userId.firstName}}</td>
            <td>{{lab.userId.email}}</td>
            <td>+923335586757</td>
            <td>
              <p data-placement="top" data-toggle="tooltip" title="Edit">
                <button class="btn btn-primary btn-xs" data-title="Edit" data-toggle="modal" data-target="#edit"><span
                  class="glyphicon glyphicon-pencil"></span></button>
              </p>
            </td>
            <td>
              <p data-placement="top" data-toggle="tooltip" title="Delete">
                <button class="btn btn-danger btn-xs" data-title="Delete" data-toggle="modal" data-target="#delete">
                  <span class="glyphicon glyphicon-trash"></span></button>
              </p>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="edit" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span
          class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
        <h4 class="modal-title custom_align" id="Heading">Edit Lab Detail</h4>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <input class="form-control " type="text" placeholder="Name">
        </div>
        <div class="form-group">
          <input class="form-control " type="text" placeholder="Manager">
        </div>
        <div class="form-group">
                  <textarea rows="2" class="form-control"
                            placeholder="Description"></textarea>
        </div>
      </div>
      <div class="modal-footer ">
        <button type="button" class="btn btn-warning btn-lg" style="width: 100%;"><span
          class="glyphicon glyphicon-ok-sign"></span> Update
        </button>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div>
<div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span
          class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
        <h4 class="modal-title custom_align" id="Heading">Delete lab entry</h4>
      </div>
      <div class="modal-body">

        <div class="alert alert-danger"><span class="glyphicon glyphicon-warning-sign"></span> Are you sure you
          want to delete this lab?
        </div>

      </div>
      <div class="modal-footer ">
        <button type="button" class="btn btn-success"><span class="glyphicon glyphicon-ok-sign"></span> Yes
        </button>
        <button type="button" class="btn btn-default" data-dismiss="modal"><span
          class="glyphicon glyphicon-remove"></span> No
        </button>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div>
<div class="modal modal-info fade" id="newlab" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Add Lab</h4>
      </div>
      <form role="form" (ngSubmit)="f.form.valid && insertlab()" #f="ngForm" novalidate>
        <div class="modal-body">
          <div>

            <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !lab_name.valid }">
              <input id="lab_name" name="lab_name" type="text" class="form-control" required placeholder="Lab Name"
                     [(ngModel)]="model.lab_name" #lab_name="ngModel" required>
              <div *ngIf="f.submitted && !lab_name.valid" class="help-block">Lab name is required</div>
              <label for="lab_name">Lab Name</label>
            </div>
            <div *ngIf="roleId == 3" class="form-group"
                 [ngClass]="{ 'has-error': f.submitted && !manager_fname.valid }">
              <input id="manager_fname" name="manager_fname" type="text" class="form-control" required
                     placeholder="Manager First Name" [(ngModel)]="model.manager_fname" #manager_fname="ngModel"
                     required>
              <div *ngIf="f.submitted && !manager_fname.valid" class="help-block">Lab manager first name is required
              </div>
              <label for="manager_fname">Manager First Name</label>
            </div>
            <div *ngIf="roleId == 3" class="form-group"
                 [ngClass]="{ 'has-error': f.submitted && !manager_lname.valid }">
              <input id="manager_lname" name="manager_lname" type="text" class="form-control" required
                     placeholder="Manager Last Name" [(ngModel)]="model.manager_lname" #manager_lname="ngModel"
                     required>
              <div *ngIf="f.submitted && !manager_lname.valid" class="help-block">Lab manager last name is required
              </div>
              <label for="manager_lname">Manager Last Name</label>
            </div>
            <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !pi_name.valid }">
              <input id="pi_name" name="pi_name" type="text" class="form-control" required placeholder="PI Name"
                     [(ngModel)]="model.pi_name" #pi_name="ngModel" required>
              <div *ngIf="f.submitted && !pi_name.valid" class="help-block">Principal investigator name is required
              </div>
              <label for="pi_name">PI Name</label>
            </div>
            <div *ngIf="roleId == 3" class="form-group" [ngClass]="{ 'has-error': f.submitted && !email.valid }">
              <input id="email" name="email" type="text" class="form-control" required placeholder="Email ID"
                     [(ngModel)]="model.email" #email="ngModel" required>
              <div *ngIf="f.submitted && !email.valid" class="help-block">Email id is required</div>
              <label for="email">Email ID</label>
            </div>
            <div *ngIf="roleId == 3" class="form-group" [ngClass]="{ 'has-error': f.submitted && !phone.valid }">
              <input id="phone" name="phone" type="text" class="form-control" required placeholder="Phone Number"
                     [(ngModel)]="model.phone" #phone="ngModel" required>
              <div *ngIf="f.submitted && !phone.valid" class="help-block">Lab name is required</div>
              <label for="phone">Phone Number</label>
            </div>
            <div *ngIf="roleId == 3" class="form-group" [ngClass]="{ 'has-error': f.submitted && !address.valid }">
              <input id="address" name="address" type="text" class="form-control" required placeholder="Address"
                     [(ngModel)]="model.address" #address="ngModel" required>
              <div *ngIf="f.submitted && !address.valid" class="help-block">Lab name is required</div>
              <label for="address">Address</label>
            </div>
            <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !message.valid }">
                <textarea id="message" name="message" class="form-control" required placeholder="Lab Details"
                          [(ngModel)]="model.message" #message="ngModel" required></textarea>
              <div *ngIf="f.submitted && !message.valid" class="help-block">Lab name is required</div>
            </div>

          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline pull-left" data-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-outline">Add</button>
        </div>
      </form>
    </div>
  </div>
</div>
