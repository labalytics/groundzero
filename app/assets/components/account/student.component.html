<div id="header"></div>
<!--Remaining section-->
<table>
  <tr>
    <td valign="top">
      <div id="menu"></div>
    </td>
    <td>
      <div id="page-wrapper">
        <div class="container">
          <div class="row">


            <div class="col-md-12">
              <div class="table-responsive">

                <h4> Student Information</h4>
                <table style="width: 100%" >
                  <tr>
                    <td>
                      <div id="custom-search-input">
                        <div class="input-group col-md-12">
                          <!--<input type="text" class="  search-query form-control" placeholder="Search" /> -->
                          <input [(ngModel)] = "searchTerm" (ngModelChange) = "search()" class="search-query form-control"/>

                          <span class="input-group-btn">
                            <!--<button class="btn btn-danger" type="button">
                                                                <span class=" glyphicon glyphicon-search"></span>
                                                            </button> -->
                            <input [(ngModel)] = "searchTerm" (ngModelChange) = "search()"/>
                                                        </span>
                        </div>
                      </div>
                    </td>
                    <td align="center">
                      <a href="newlab.html" style="height: 30px; font-size: medium" class = "btn btn-primary btn-xs"><b>+</b> Add new student</a>
                    </td>
                  </tr>
                </table>
                <div style="height: 20px;"></div>
                <table id="mytable" class="table table-bordred table-striped">

                  <thead>

                  <th>First Name</th>
                  <th>Last Name</th>
                  <th>Role</th>
                  <th>Email</th>
                  <th></th>
                  <th>Delete</th>
                  <th></th>
                  </thead>
                  <tbody *ngFor="let student of students">

                  <tr>
                    <td>{{student.userId.firstName}}</td>
                    <td>{{student.userId.lastName}}</td>
                    <td>{{student.roleId.roleName}}</td>
                    <td>{{student.userId.email}}</td>
                    <td><p data-placement="top" data-toggle="tooltip" title="Details"><button class="btn btn-primary btn-xs" data-title="Details" data-toggle="modal" attr.data-target="#edit_{{student.userId.id}}"><span style="font-size: small"> Details</span></button></p>

                      <div class="modal fade" id="edit_{{student.userId.id}}" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
                        <div class="modal-dialog">
                          <div class="modal-content">
                            <div class="modal-header">
                              <button type="button" (click)="reset()" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                              <h4 class="modal-title custom_align" id="Heading">Edit Lab Detail</h4>
                            </div>
                            <div class="modal-body">
                              <div class="form-group">
                                <label>First Name</label>
                                <input class="form-control " type="text" value="{{student.userId.firstName}}" placeholder="{{student.userId.firstName}}" [(ngModel)]="student.userId.firstName" #student.userId.firstName="ngModel" required>
                              </div>
                              <div class="form-group">
                                <label>Last Name</label>
                                <input class="form-control " type="text" value="{{student.userId.lastName}}" placeholder="{{student.userId.lastName}}" [(ngModel)]="student.userId.lastName" #student.userId.lastName="ngModel" required>
                              </div>
                              <div class="form-group">
                                <label>Email id</label>
                                <label class="form-control ">{{student.userId.email}}</label>
                              </div>
                            </div>
                            <div class="modal-footer ">
                              <button type="button" class="btn btn-warning btn-lg" style="width: 100%;" (click)="editStudent(student.userId)"><span class="glyphicon glyphicon-ok-sign"></span> Update</button>
                            </div>
                          </div>
                          <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                      </div>

                    </td>
                    <td><p data-placement="top" data-toggle="tooltip" title="Schedule"><button class="btn btn-primary btn-xs" data-title="Schedule" data-toggle="modal" data-target="#edit" ><span style="font-size: small"> Schedule</span></button></p></td>
                    <td><p data-placement="top" data-toggle="tooltip" title="Edit"><button class="btn btn-primary btn-xs" data-title="Edit" data-toggle="modal" data-target="#edit" ><span class="glyphicon glyphicon-pencil"></span></button></p></td>
                    <td><p data-placement="top" data-toggle="tooltip" title="Delete"><button class="btn btn-danger btn-xs" data-title="Delete" data-toggle="modal" data-target="#delete" ><span class="glyphicon glyphicon-trash"></span></button></p></td>
                  </tr>


                  </tbody>

                </table>



              </div>

            </div>
          </div>
        </div>


        <div *ngFor="let student of students">

         <div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                <h4 class="modal-title custom_align" id="Heading">Delete lab entry</h4>
              </div>
              <div class="modal-body">

                <div class="alert alert-danger"><span class="glyphicon glyphicon-warning-sign"></span> Are you sure you want to delete this lab?</div>

              </div>
              <div class="modal-footer ">
                <button type="button" class="btn btn-success" ><span class="glyphicon glyphicon-ok-sign"></span> Yes</button>
                <button type="button" class="btn btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> No</button>
              </div>
            </div>
            <!-- /.modal-content -->
          </div>
          <!-- /.modal-dialog -->
        </div>
        </div>

        <!-- /.row -->
      </div>
    </td>
  </tr>
</table>
